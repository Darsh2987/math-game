(()=>{"use strict";window.addEventListener("load",(()=>{const e=document.querySelector("#problem"),o=document.querySelector("#form"),t=document.querySelector("#input"),r=document.querySelector("#points-needed"),n=document.querySelector("#mistakes-allowed"),s=document.querySelector("#progress-inner"),u=document.querySelector("#end-message"),c=document.querySelector("#reset-button");let m,a={score:0,wrongAnswers:0};function l(e){return Math.floor(Math.random()*(e+1))}function d(){a.currentProblem={numberOne:l(10),numberTwo:l(10),operator:["+","-","x","/"][l(3)]},e.innerHTML=`${a.currentProblem.numberOne} ${a.currentProblem.operator} ${a.currentProblem.numberTwo}`;const o=a.currentProblem;"+"==o.operator?m=o.numberOne+o.numberTwo:"-"==o.operator?m=o.numberOne-o.numberTwo:"x"==o.operator?m=o.numberOne*o.numberTwo:"/"==o.operator&&(m=Math.round(o.numberOne/o.numberTwo*10)/10,m!==1/0&&NaN!==m||d())}function i(){s.style.transform=`scaleX(${a.score/10})`}function b(){t.value="",t.focus()}o.addEventListener("submit",(o=>{o.preventDefault(),parseFloat(t.value)===m?(a.score++,r.textContent=10-a.score,d(),i(),b()):(a.wrongAnswers++,n.textContent=2-a.wrongAnswers,e.classList.add("animate-wrong"),setTimeout((()=>e.classList.remove("animate-wrong")),451),b()),function(){10===a.score&&(u.textContent="Congrats! You won.",document.body.classList.add("overlay-is-open"),setTimeout((()=>c.focus()),331));3===a.wrongAnswers&&(u.textContent="Sorry! You lost.",document.body.classList.add("overlay-is-open"),setTimeout((()=>c.focus()),331))}()})),c.addEventListener("click",(function(){document.body.classList.remove("overlay-is-open"),d(),a.score=0,a.wrongAnswers=0,r.textContent=10,n.textContent=2,b(),i()})),d()}))})();